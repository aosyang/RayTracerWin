CMAKE_MINIMUM_REQUIRED(VERSION 3.1)

SET(CMAKE_CONFIGURATION_TYPES "Debug;Release")

PROJECT(RayTracer)
FILE(GLOB SOURCES Src/*.cpp Src/*.h)

IF(APPLE)
    FILE(GLOB SOURCES_PLATFORM Src/OSX/*.m Src/OSX/*.mm Src/OSX/*.h)
	SET(CMAKE_CXX_STANDARD 11)
	FIND_LIBRARY(APPKIT_LIBRARY AppKit)
	SET(EXTRA_LIBS ${APPKIT_LIBRARY})
ENDIF()

IF(WIN32)
    FILE(GLOB SOURCES_PLATFORM Src/Windows/*.cpp Src/Windows/*.h)
ENDIF()

ADD_EXECUTABLE(RayTracer WIN32 MACOSX_BUNDLE ${SOURCES} ${SOURCES_PLATFORM})
TARGET_LINK_LIBRARIES(RayTracer ${EXTRA_LIBS})
